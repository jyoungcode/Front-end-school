<!DOCTYPE html>
<html lang="ko-KR">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta charset="UTF-8">
  <title>jQuery 스타일 클래스 속성 제어</title>
  <style>
   body {
      height: 100vh;
      display: flex;
      flex-flow: column wrap;
      justify-content: center;
      align-items: center;
    }
    .demo-box {
      width: 400px;
      height: 60px;
      box-sizing: border-box;
      margin: 1rem 0;
      border: 5px solid #999;
      padding: 1em;
      text-align: center;
      transition: all .3s ease;
    }
    .demo-box.look {
      border-width: 10px;
      border-color: #5225e2;
      padding: 0.75em 0 0 0;
    }
  </style>

<script src="../../Resources/library/jquery-3.1.0.min.js"></script>
<script>
  (function(global, $){
  	'use strict';
  	
  	function init(){
  		// ------------------------------------------------------------------
  		// class 속성 제어 방법
  		// ------------------------------------------------------------------
  		// .hasClass(): 해당 클래스 속성을 소유했는가? Boolean
  		// .addClass(): 해당 클래스가 없다면 추가 한다. jQuery Object
  		// .removeClass(): 해당 클래스가 있다면 제거한다. jQuery Object | 인자 값이 없다면 모든 클래스 속성을 제거한다.
  		// .toggleClass(): 해다 클래스 속성을 토클한다. ( 해당 클래스 속성을소유했다면 제거, 소유하지 않았다면 추가 )

  		// 조건이 많아지면 switch ~ case를 사용하자.
  		// ** AJAX 사용시 새로 받아온 데이터는 이벤트가 적용되지 않는다. 그래서 부모에 이벤트를 적용시켜놓으면 이벤트 위임이 되서 해결된다.

    var $demo_box = $('.demo-box');
      // 이벤트 위임
      $('.button-controls').on('click', 'button', {'$index': 0}, function(event) {
        switch(this.getAttribute('class')) {
          case 'addClass_look':
            // console.log('addClass_look');
            $demo_box.addClass('look');
            // $demo_box.addClass(function(index, current_class) {
            //   return '~' + current_class + '~';
            // });
          break;
          case 'removeClass_look':
            // console.log('removeClass_look');
            // $demo_box.removeClass('look');
            $demo_box.removeClass();
          break;
          case 'toggleClass_look':
            // console.log('toggleClass_look');
            // console.log(event.data.$index++ % 5 === 0);
            // $demo_box.toggleClass('look', event.data.$index++ % 5 === 0);
            $demo_box.toggleClass( (event.data.$index += 3) % 6 === 0 );
          break;
        }
      });
    };
    // 문서 객체 모델이 준비가 되면 init 함수 실행
    $(init);

  })(this, this.jQuery);
  </script>
</head>
<body>
  <div role="group" class="button-controls">
    <button type="button" class="addClass_look">add <strong>look</strong></button>
    <button type="button" class="removeClass_look">remove <strong>look</strong></button>
    <button type="button" class="toggleClass_look">toggle <strong>look</strong></button>
  </div>
  <div class="demo-box">demo box</div>

</body>
</html>